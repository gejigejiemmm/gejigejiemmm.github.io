<!DOCTYPE html>
<html lang="en"><meta charset="utf-8"><meta name="generator" content="Hugo 0.64.1" /><meta name="viewport" content="width=device-width,initial-scale=1,viewport-fit=cover">
<meta name="color-scheme" content="light dark">
<meta name="supported-color-schemes" content="light dark"><title>Java8&nbsp;&ndash;&nbsp;gejigejiemmm</title><link rel="stylesheet" href="/css/core.min.a5d63d306fa53cba7bcef6c96fd6b55a008ea5736acaf25aace71f2bd7b379b2d97257d9c332e405e82f4f6e980f8409.css" integrity="sha384-pdY9MG&#43;lPLp7zvbJb9a1WgCOpXNqyvJarOcfK9ezebLZclfZwzLkBegvT26YD4QJ"><body>
    <div class="base-body"><section id="header" class="site header">
    <div class="header wrap"><span class="header left-side"><a class="site home" href="/"><img class="site logo" src="/tomato.png" alt /><span class="site name">gejigejiemmm</span></a></span>
        <span class="header right-side"><div class="nav wrap"><nav class="nav"><a class="nav item" href="/categories/">Categories</a><a class="nav item" href="/tags/">Tags</a><a class="nav item" href="https://github.com/gejigejiemmm/"target="_blank">Github</a><a class="nav item" href="https://gohugo.io/"target="_blank">Hugo</a></nav></div></span></div><div class="site slogan"><span class="title">haloğŸ˜Š</span></div></section><div id="content"><div class="article-container"><section class="article header">
    <h1 class="article title">Java8</h1><p class="article date">Wednesday, March 11, 2020</p></section><article class="article markdown-body"><h2 id="å°åº">å°åº</h2>
<p>ç¬¬ä¸€æ¬¡å­¦java å°±æ˜¯ç”¨çš„jdk8ï¼Œä½†åœ¨å½“æ—¶å¹¶ä¸çŸ¥é“8çš„æ–°ç‰¹æ€§ã€‚å‰åŠå¹´å­¦ä¹ è¿‡ä¸€æ¬¡ï¼Œä½†ä¹Ÿå°±æ˜¯è¿‡ä¸€éï¼Œè¿™æ¬¡å†æ¥å­¦ä¹ è®°å½•ä¸€ä¸‹ã€‚</p>
<h2 id="lambda-è¡¨è¾¾å¼">lambda è¡¨è¾¾å¼</h2>
<p>lambda è¡¨è¾¾å¼å¯ä»¥çœå»ä¸éƒ¨åˆ†ä»£ç ï¼Œå¹¶ä¸”è®©æˆ‘ä»¬è‡ªå·±çš„ä»£ç çœ‹èµ·æ¥ç®€æ´ã€‚æ–¹ä¾¿äº†å¼€å‘ã€‚</p>
<p>å…·ä½“ä¾‹å­ï¼š</p>
<div class="highlight"><pre class="chroma"><code class="language-java" data-lang="java">        <span class="c1">//æœªä½¿ç”¨ lambda
</span><span class="c1"></span>        <span class="n">Comparator</span><span class="o">&lt;</span><span class="n">Integer</span><span class="o">&gt;</span> <span class="n">c1</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Comparator</span><span class="o">&lt;</span><span class="n">Integer</span><span class="o">&gt;</span><span class="o">(</span><span class="o">)</span> <span class="o">{</span>
            <span class="nd">@Override</span>
            <span class="kd">public</span> <span class="kt">int</span> <span class="nf">compare</span><span class="o">(</span><span class="n">Integer</span> <span class="n">o1</span><span class="o">,</span> <span class="n">Integer</span> <span class="n">o2</span><span class="o">)</span> <span class="o">{</span>
                <span class="k">return</span> <span class="n">Integer</span><span class="o">.</span><span class="na">compare</span><span class="o">(</span><span class="n">o1</span><span class="o">,</span><span class="n">o2</span><span class="o">)</span><span class="o">;</span>
            <span class="o">}</span>
        <span class="o">}</span><span class="o">;</span>

        <span class="c1">//ä½¿ç”¨ lambda è¡¨è¾¾å¼
</span><span class="c1"></span>        <span class="c1">//lambda è¡¨è¾¾å¼å¯ä»¥çœå»éƒ¨åˆ†ä»£ç ï¼Œè®©æˆ‘ä»¬çš„ä»£ç çœ‹èµ·æ¥æ›´ç®€æ´
</span><span class="c1"></span>        <span class="n">Comparator</span><span class="o">&lt;</span><span class="n">Integer</span><span class="o">&gt;</span> <span class="n">c2</span> <span class="o">=</span> <span class="o">(</span><span class="n">o1</span><span class="o">,</span> <span class="n">o2</span><span class="o">)</span> <span class="o">-</span><span class="o">&gt;</span> <span class="n">Integer</span><span class="o">.</span><span class="na">compare</span><span class="o">(</span><span class="n">o1</span><span class="o">,</span><span class="n">o2</span><span class="o">)</span><span class="o">;</span>


        <span class="c1">//æ–¹æ³•å¼•ç”¨
</span><span class="c1"></span>        <span class="n">Comparator</span><span class="o">&lt;</span><span class="n">Integer</span><span class="o">&gt;</span> <span class="n">c3</span> <span class="o">=</span> <span class="n">Integer</span><span class="o">:</span><span class="o">:</span><span class="n">compare</span><span class="o">;</span>
</code></pre></div><p>ä½†éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œåªæœ‰å½“æ¥å£æœ‰ä¸€ä¸ªæŠ½è±¡ç±»æ–¹æ³•çš„æ—¶å€™ï¼Œæ‰å¯ä»¥ä½¿ç”¨lambdaè¡¨è¾¾å¼
lambda è¡¨è¾¾å¼ä¼šè¿›è¡Œç±»å‹æ¨æ–­ã€‚å¦‚ä¾‹å­ä¸­ o1 ï¼Œo2å› ä¸º å‰è¾¹Comparator<Integer> å·²ç»å®šä¹‰äº†èŒƒå‹ Integer  æ‰€ä»¥è¿™é‡Œçš„ o1,o2å°±æ˜¯Integer ç±»å‹</p>
<p>å½“åªæœ‰ä¸€ä¸ªå‚æ•°æ—¶ï¼Œ()å¯ä»¥çœç•¥
å½“åªæœ‰ä¸€æ¡è¯­å¥æ—¶ï¼ˆå¯èƒ½æ˜¯returnè¯­å¥ï¼‰çš„æ—¶å€™{}å’Œ returnå¯ä»¥çœç•¥</p>
<h2 id="å‡½æ•°å¼æ¥å£">å‡½æ•°å¼æ¥å£</h2>
<p>åœ¨ java8é‡Œæ–°åŠ äº†å‡½æ•°å¼æ¥å£çš„æ¦‚å¿µã€‚å‡½æ•°å¼æ¥å£æ˜¯ä»€ä¹ˆå‘¢ï¼Ÿ
å¦‚æœä¸€ä¸ªæ¥å£åªæœ‰ä¸€ä¸ªæŠ½è±¡æ–¹æ³•ï¼Œé‚£ä¹ˆè¿™ä¸ªæ¥å£å°±å¯ä»¥ç§°ä¹‹ä¸ºå‡½æ•°å¼æ¥å£
é€šå¸¸ä¼šç”¨ @FunctionalInterface æ¥æ ‡è¯†
æˆ‘ä»¬åŒæ ·å¯ä»¥è‡ªå®šä¹‰å‡½æ•°å¼æ¥å£</p>
<div class="highlight"><pre class="chroma"><code class="language-java" data-lang="java"><span class="nd">@FunctionalInterface</span>
<span class="kd">public</span> <span class="kd">interface</span> <span class="nc">MyFunctionInterface</span> <span class="o">{</span>
    
    <span class="kt">void</span> <span class="nf">method</span><span class="o">(</span><span class="o">)</span><span class="o">;</span>
<span class="o">}</span>
</code></pre></div><p>@FunctionalInterface ä¼šå¸®æˆ‘ä»¬æ£€æµ‹æˆ‘ä»¬çš„æ¥å£æ˜¯å¦ç¬¦åˆ å‡½æ•°å¼æ¥å£çš„å®šä¹‰</p>
<p>lambda è¡¨è¾¾å¼ä¾èµ–äºå‡½æ•°å¼æ¥å£ï¼Œå…¶æœ¬è´¨å°±æ˜¯ä½œä¸º å‡½æ•°å¼æ¥å£çš„å®ä¾‹</p>
<h3 id="java-å†…ç½®çš„å‡½æ•°å¼æ¥å£">java å†…ç½®çš„å‡½æ•°å¼æ¥å£</h3>
<h4 id="consumert-æ¶ˆè´¹å‹æ¥å£">Consumer<T> æ¶ˆè´¹å‹æ¥å£</h4>
<p>å‚æ•°ç±»å‹ä¸º T ï¼šæ¥æ”¶ä¸€ä¸ªTç±»å‹çš„å€¼ï¼Œæ²¡æœ‰è¿”å›å€¼
åŒ…å«æ–¹æ³• void accept (T t)
ğŸŒ°:</p>
<div class="highlight"><pre class="chroma"><code class="language-java" data-lang="java">    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">testConsumer</span><span class="o">(</span><span class="o">)</span><span class="o">{</span>
        
        <span class="c1">//java8 ä¹‹å‰
</span><span class="c1"></span>        <span class="n">happyTime</span><span class="o">(</span><span class="n">500</span><span class="o">.</span><span class="na">0</span><span class="o">,</span> <span class="k">new</span> <span class="n">Consumer</span><span class="o">&lt;</span><span class="n">Double</span><span class="o">&gt;</span><span class="o">(</span><span class="o">)</span> <span class="o">{</span>
            <span class="nd">@Override</span>
            <span class="kd">public</span> <span class="kt">void</span> <span class="nf">accept</span><span class="o">(</span><span class="n">Double</span> <span class="n">aDouble</span><span class="o">)</span> <span class="o">{</span>
                <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">&#34;çœ‹ç”µå½±å’Œåƒé¥­æ¶ˆè´¹äº†&#34;</span> <span class="o">+</span> <span class="n">aDouble</span><span class="o">)</span><span class="o">;</span>
            <span class="o">}</span>
        <span class="o">}</span><span class="o">)</span><span class="o">;</span>
        
        <span class="c1">//lambda è¡¨è¾¾å¼
</span><span class="c1"></span>        <span class="n">happyTime</span><span class="o">(</span><span class="n">500</span><span class="o">.</span><span class="na">0</span><span class="o">,</span><span class="n">money</span> <span class="o">-</span><span class="o">&gt;</span> <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">&#34;çœ‹ç”µå½±å’Œåƒé¥­æ¶ˆè´¹äº†&#34;</span> <span class="o">+</span> <span class="n">money</span><span class="o">)</span><span class="o">)</span><span class="o">;</span>
        
    <span class="o">}</span>

    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">happyTime</span><span class="o">(</span><span class="n">Double</span> <span class="n">money</span><span class="o">,</span> <span class="n">Consumer</span><span class="o">&lt;</span><span class="n">Double</span><span class="o">&gt;</span> <span class="n">con</span><span class="o">)</span><span class="o">{</span>
        <span class="n">con</span><span class="o">.</span><span class="na">accept</span><span class="o">(</span><span class="n">money</span><span class="o">)</span><span class="o">;</span>
    <span class="o">}</span>
</code></pre></div><h4 id="suppliert-ä¾›ç»™å‹æ¥å£">Supplier<T> ä¾›ç»™å‹æ¥å£</h4>
<p>æ²¡æœ‰å‚æ•°ï¼Œè¿”å›ä¸€ä¸ªTç±»å‹çš„å€¼
åŒ…å«æ–¹æ³• T get()</p>
<div class="highlight"><pre class="chroma"><code class="language-java" data-lang="java">        <span class="c1">//lambda è¡¨è¾¾å¼
</span><span class="c1"></span>        <span class="n">Supplier</span><span class="o">&lt;</span><span class="n">String</span><span class="o">&gt;</span> <span class="n">sup</span> <span class="o">=</span> <span class="o">(</span><span class="o">)</span> <span class="o">-</span><span class="o">&gt;</span> <span class="n">employee</span><span class="o">.</span><span class="na">getName</span><span class="o">(</span><span class="o">)</span><span class="o">;</span>
        <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">sup</span><span class="o">.</span><span class="na">get</span><span class="o">(</span><span class="o">)</span><span class="o">)</span><span class="o">;</span>
</code></pre></div><h4 id="functiontr-å‡½æ•°å‹æ¥å£">Function&lt;T,R&gt; å‡½æ•°å‹æ¥å£</h4>
<p>å‚æ•°ç±»å‹ä¸ºTï¼Œè¿”å›ç±»å‹ä¸ºRï¼šæ¥æ”¶ä¸€ä¸ª Tç±»å‹çš„å€¼è¿›è¡Œæ“ä½œï¼Œä½†è¿”å›ç»“æœä¸ºRç±»å‹
åŒ…å«æ–¹æ³• R apply(T t)</p>
<h4 id="predicatet-æ–­å®šå‹æ¥å£">Predicate<T> æ–­å®šå‹æ¥å£</h4>
<p>è¿›è¡Œåˆ¤æ–­çš„ï¼Œæ¥å—å‚æ•°ä¸ºTçš„ç±»å‹ï¼Œè¿”å›ä¸€ä¸ªbooleanç±»å‹çš„å€¼
åŒ…å«æ–¹æ³• boolean test(T t)
ä¸¾ä¸ªğŸŒ°ï¼š</p>
<div class="highlight"><pre class="chroma"><code class="language-java" data-lang="java">    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">testPredicate</span><span class="o">(</span><span class="o">)</span> <span class="o">{</span>
        <span class="n">List</span><span class="o">&lt;</span><span class="n">String</span><span class="o">&gt;</span> <span class="n">list</span> <span class="o">=</span> <span class="n">Arrays</span><span class="o">.</span><span class="na">asList</span><span class="o">(</span><span class="s">&#34;åŒ—äº¬&#34;</span><span class="o">,</span><span class="s">&#34;å—äº¬&#34;</span><span class="o">,</span><span class="s">&#34;å¤©æ´¥&#34;</span><span class="o">)</span><span class="o">;</span>

        <span class="c1">//è¿‡æ»¤å‡ºå¸¦æœ‰ äº¬ çš„å­—ç¬¦ä¸²
</span><span class="c1"></span>        <span class="n">List</span><span class="o">&lt;</span><span class="n">String</span><span class="o">&gt;</span> <span class="n">filterString</span> <span class="o">=</span> <span class="n">filterString</span><span class="o">(</span><span class="n">list</span><span class="o">,</span> <span class="n">string</span> <span class="o">-</span><span class="o">&gt;</span> <span class="n">string</span><span class="o">.</span><span class="na">contains</span><span class="o">(</span><span class="s">&#34;äº¬&#34;</span><span class="o">)</span><span class="o">)</span><span class="o">;</span>
        <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">filterString</span><span class="o">)</span><span class="o">;</span>
    <span class="o">}</span>

    <span class="kd">public</span> <span class="n">List</span><span class="o">&lt;</span><span class="n">String</span><span class="o">&gt;</span> <span class="nf">filterString</span><span class="o">(</span><span class="n">List</span><span class="o">&lt;</span><span class="n">String</span><span class="o">&gt;</span> <span class="n">strings</span><span class="o">,</span> <span class="n">Predicate</span><span class="o">&lt;</span><span class="n">String</span><span class="o">&gt;</span> <span class="n">pre</span><span class="o">)</span> <span class="o">{</span>
        <span class="n">ArrayList</span><span class="o">&lt;</span><span class="n">String</span><span class="o">&gt;</span> <span class="n">list</span> <span class="o">=</span> <span class="k">new</span> <span class="n">ArrayList</span><span class="o">&lt;</span><span class="o">&gt;</span><span class="o">(</span><span class="o">)</span><span class="o">;</span>

        <span class="k">for</span> <span class="o">(</span><span class="n">String</span> <span class="n">s</span> <span class="o">:</span> <span class="n">strings</span><span class="o">)</span> <span class="o">{</span>
            <span class="k">if</span><span class="o">(</span><span class="n">pre</span><span class="o">.</span><span class="na">test</span><span class="o">(</span><span class="n">s</span><span class="o">)</span><span class="o">)</span> <span class="o">{</span>
                <span class="n">list</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="n">s</span><span class="o">)</span><span class="o">;</span>
            <span class="o">}</span>
        <span class="o">}</span>

        <span class="k">return</span> <span class="n">list</span><span class="o">;</span>
    <span class="o">}</span>
</code></pre></div><h2 id="æ–¹æ³•å¼•ç”¨">æ–¹æ³•å¼•ç”¨</h2>
<p>å½“è¦ä¼ é€’ç»™lambda ä½“çš„æ“ä½œå·²ç»æœ‰å®ç°çš„æ–¹æ³•æ—¶ï¼Œå°±å¯ä»¥ä½¿ç”¨æ–¹æ³•å¼•ç”¨</p>
<div class="highlight"><pre class="chroma"><code class="language-java" data-lang="java">        <span class="c1">//lambda è¡¨è¾¾å¼
</span><span class="c1"></span>        <span class="n">Consumer</span><span class="o">&lt;</span><span class="n">String</span><span class="o">&gt;</span> <span class="n">con</span> <span class="o">=</span> <span class="o">(</span><span class="n">s</span><span class="o">)</span> <span class="o">-</span><span class="o">&gt;</span> <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">s</span><span class="o">)</span><span class="o">;</span>
        <span class="n">con</span><span class="o">.</span><span class="na">accept</span><span class="o">(</span><span class="s">&#34;halo&#34;</span><span class="o">)</span><span class="o">;</span>
        
        <span class="c1">//æ–¹æ³•å¼•ç”¨çš„æ–¹å¼
</span><span class="c1"></span>        <span class="n">Consumer</span><span class="o">&lt;</span><span class="n">String</span><span class="o">&gt;</span> <span class="n">con1</span> <span class="o">=</span> <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">:</span><span class="o">:</span><span class="n">println</span><span class="o">;</span>
        <span class="n">con1</span><span class="o">.</span><span class="na">accept</span><span class="o">(</span><span class="s">&#34;halo&#34;</span><span class="o">)</span><span class="o">;</span>
</code></pre></div><p>å¯ä»¥çœ‹åˆ° Consumerçš„ accpetæ–¹æ³•çš„æ¥æ”¶å‚æ•°æ˜¯ å­—ç¬¦ä¸²ç±»å‹ sï¼Œè€Œä¸”System.out.printlnä¹Ÿå¯ä»¥æ¥æ”¶ å­—ç¬¦ä¸² sï¼Œè¿™ä¸ªæ—¶å€™å°±å¯ä»¥ä½¿ç”¨æ–¹æ³•å¼•ç”¨ ç±»åï¼ˆå¯¹è±¡åï¼‰::æ–¹æ³•å
æ–¹æ³•å¼•ç”¨ æ˜¯å¯¹ lambda è¡¨è¾¾å¼çš„è¿›ä¸€æ­¥ç®€åŒ–æ“ä½œã€‚</p>
<p>æˆ‘è§‰å¾—å¯ä»¥ç®€å•è¿™æ ·ç†è§£ï¼š ä½ çš„å‚æ•°å’Œè¿”å›å€¼ å’Œä½  è¦å¼•ç”¨çš„å‚æ•°å’Œè¿”å›å€¼ä¸€è‡´ï¼Œå°±å¯ä»¥ä½¿ç”¨æ–¹æ³•å¼•ç”¨ã€‚</p>
<ul>
<li>å¯¹è±¡å::éé™æ€æ–¹æ³•</li>
</ul>
<div class="highlight"><pre class="chroma"><code class="language-java" data-lang="java">        <span class="c1">//lambda è¡¨è¾¾å¼
</span><span class="c1"></span>        <span class="n">Supplier</span><span class="o">&lt;</span><span class="n">String</span><span class="o">&gt;</span> <span class="n">sup</span> <span class="o">=</span> <span class="o">(</span><span class="o">)</span> <span class="o">-</span><span class="o">&gt;</span> <span class="n">employee</span><span class="o">.</span><span class="na">getName</span><span class="o">(</span><span class="o">)</span><span class="o">;</span>
        <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">sup</span><span class="o">.</span><span class="na">get</span><span class="o">(</span><span class="o">)</span><span class="o">)</span><span class="o">;</span>

        <span class="c1">//æ–¹æ³•å¼•ç”¨
</span><span class="c1"></span>        <span class="n">Supplier</span><span class="o">&lt;</span><span class="n">String</span><span class="o">&gt;</span> <span class="n">sup1</span> <span class="o">=</span> <span class="n">employee</span><span class="o">:</span><span class="o">:</span><span class="n">getName</span><span class="o">;</span>
        <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">sup1</span><span class="o">.</span><span class="na">get</span><span class="o">(</span><span class="o">)</span><span class="o">)</span><span class="o">;</span>
</code></pre></div><ul>
<li>ç±»å::é™æ€æ–¹æ³•</li>
</ul>
<div class="highlight"><pre class="chroma"><code class="language-java" data-lang="java">        <span class="n">Comparator</span><span class="o">&lt;</span><span class="n">Integer</span><span class="o">&gt;</span> <span class="n">comparator1</span> <span class="o">=</span> <span class="o">(</span><span class="n">o1</span><span class="o">,</span> <span class="n">o2</span><span class="o">)</span> <span class="o">-</span><span class="o">&gt;</span> <span class="n">Integer</span><span class="o">.</span><span class="na">compare</span><span class="o">(</span><span class="n">o1</span><span class="o">,</span> <span class="n">o2</span><span class="o">)</span><span class="o">;</span>
        <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">comparator1</span><span class="o">.</span><span class="na">compare</span><span class="o">(</span><span class="n">1</span><span class="o">,</span><span class="n">2</span><span class="o">)</span><span class="o">)</span><span class="o">;</span>
        
        <span class="n">Comparator</span><span class="o">&lt;</span><span class="n">Integer</span><span class="o">&gt;</span> <span class="n">comparator2</span> <span class="o">=</span> <span class="n">Integer</span><span class="o">:</span><span class="o">:</span><span class="n">compare</span><span class="o">;</span>
        <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">comparator2</span><span class="o">.</span><span class="na">compare</span><span class="o">(</span><span class="n">1</span><span class="o">,</span><span class="n">2</span><span class="o">)</span><span class="o">)</span><span class="o">;</span>
</code></pre></div><ul>
<li>ç±»å::éé™æ€æ–¹æ³•
è¿™ç§ä½¿ç”¨å°±æ¯”è¾ƒç‰¹æ®Šäº†ï¼Œå®ƒå¹¶ä¸ç¬¦åˆ å‚æ•°å’Œè¿”å›å€¼ç›¸åŒå°±å¯ä»¥ä½¿ç”¨ æ–¹æ³•å¼•ç”¨ çš„åŸåˆ™ã€‚</li>
</ul>
<div class="highlight"><pre class="chroma"><code class="language-java" data-lang="java">        <span class="n">Comparator</span><span class="o">&lt;</span><span class="n">String</span><span class="o">&gt;</span> <span class="n">com</span> <span class="o">=</span> <span class="o">(</span><span class="n">s1</span><span class="o">,</span> <span class="n">s2</span><span class="o">)</span> <span class="o">-</span><span class="o">&gt;</span> <span class="n">s1</span><span class="o">.</span><span class="na">compareTo</span><span class="o">(</span><span class="n">s2</span><span class="o">)</span><span class="o">;</span>
        <span class="n">com</span><span class="o">.</span><span class="na">compare</span><span class="o">(</span><span class="s">&#34;abc&#34;</span><span class="o">,</span><span class="s">&#34;abd&#34;</span><span class="o">)</span><span class="o">;</span>

        <span class="n">Comparator</span><span class="o">&lt;</span><span class="n">String</span><span class="o">&gt;</span> <span class="n">com2</span> <span class="o">=</span> <span class="n">String</span><span class="o">:</span><span class="o">:</span><span class="n">compareTo</span><span class="o">;</span>
        <span class="n">com2</span><span class="o">.</span><span class="na">compare</span><span class="o">(</span><span class="s">&#34;abc&#34;</span><span class="o">,</span><span class="s">&#34;abd&#34;</span><span class="o">)</span><span class="o">;</span>
</code></pre></div><p>ç¬¬ä¸€ä¸ªå‚æ•°ä½œä¸ºäº†æ–¹æ³•è°ƒç”¨è€…å‡ºç°, s1.compareTo(s2)ï¼Œè¿™ä¸ªæ—¶å€™ä¹Ÿæ˜¯å¯ä»¥ æ–¹æ³•å¼•ç”¨çš„ã€‚</p>
<h2 id="stream-api">Stream API</h2>
<p>java8 å¦ä¸€ä¸ªé‡è¦çš„æ”¹å˜å°±æ˜¯ Stream APIï¼Œå®ƒç»™æˆ‘ä»¬æä¾›äº†å¯¹é›†åˆæ•°æ®çš„æ“ä½œï¼Œæœ‰ç‚¹ç±»ä¼¼äº sql çš„æŸ¥è¯¢æ“ä½œã€‚å½“ æ•°æ®åº“ä½¿ç”¨ nosql çš„æ—¶å€™ï¼Œå²‚ä¸æ˜¯èƒ½å‡ºç°ç¥å¥‡çš„æ•ˆæœã€‚
ç›¸æ¯”äºCollectionåœ¨å†…å­˜ä¸­çš„å­˜å‚¨ï¼Œstream æ›´å¤šçš„æ˜¯æ˜¯å¯¹æ•°æ®çš„æ“ä½œã€‚</p>
<p>Stream æœ‰ä¸‰ä¸ªæ­¥éª¤
åˆ›å»º  -&gt;  ä¸­é—´æ“ä½œ  -&gt; ç»ˆæ­¢æ“ä½œ</p>
<ul>
<li>
<p>åˆ›å»ºï¼šé€šè¿‡  é›†åˆï¼Œæ•°ç»„ï¼Œè·å–ä¸€ä¸ª streamå¯¹è±¡</p>
</li>
<li>
<p>ä¸­é—´æ“ä½œï¼šä¸€ä¸ªä¸­é—´æ“ä½œé“¾ï¼Œå¯¹æ•°æ®æ‰§è¡Œå®Œæ“ä½œåè¿”å›å½“å‰è¿™ä¸ª streamå¯¹è±¡ï¼Œæ˜¯é“¾å¼çš„ã€‚ä¸­é—´æ“ä½œåœ¨æ²¡æœ‰æ‰§è¡Œ ç»ˆæ­¢æ“ä½œ å‰æ˜¯ä¸ä¼š æ‰§è¡Œçš„ã€‚</p>
</li>
<li>
<p>ç»ˆæ­¢æ“ä½œï¼šä¸€æ—¦æ‰§è¡Œï¼Œå°±ä¼šäº§ç”Ÿç»“æœï¼Œä¹‹åè¿™ä¸ªstream ä¸èƒ½å†è¢«ä½¿ç”¨</p>
</li>
</ul>
<h3 id="stream-çš„åˆ›å»º">Stream çš„åˆ›å»º</h3>
<p>è¿™ä¸ªå°±æ¯”è¾ƒç®€å•äº†ï¼Œjava8åœ¨ Collection æ¥å£ä¸­æ·»åŠ äº† streamçš„é»˜è®¤æ–¹æ³•</p>
<div class="highlight"><pre class="chroma"><code class="language-java" data-lang="java">        <span class="n">List</span><span class="o">&lt;</span><span class="n">String</span><span class="o">&gt;</span> <span class="n">strings</span> <span class="o">=</span> <span class="k">new</span> <span class="n">ArrayList</span><span class="o">&lt;</span><span class="o">&gt;</span><span class="o">(</span><span class="o">)</span><span class="o">;</span>
        <span class="n">strings</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="s">&#34;hello&#34;</span><span class="o">)</span><span class="o">;</span>
        <span class="n">strings</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="s">&#34;java8&#34;</span><span class="o">)</span><span class="o">;</span>
        <span class="n">strings</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="s">&#34;nihao&#34;</span><span class="o">)</span><span class="o">;</span>
        <span class="n">strings</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="s">&#34;a&#34;</span><span class="o">)</span><span class="o">;</span>
        <span class="c1">//è¿”å›ä¸€ä¸ªé¡ºåºæµ
</span><span class="c1"></span>        <span class="n">Stream</span><span class="o">&lt;</span><span class="n">String</span><span class="o">&gt;</span> <span class="n">stream</span> <span class="o">=</span> <span class="n">strings</span><span class="o">.</span><span class="na">stream</span><span class="o">(</span><span class="o">)</span><span class="o">;</span>

        <span class="c1">//è¿”å›ä¸€ä¸ªå¹¶è¡Œæµ
</span><span class="c1"></span>        <span class="n">Stream</span><span class="o">&lt;</span><span class="n">String</span><span class="o">&gt;</span> <span class="n">stringStream</span> <span class="o">=</span> <span class="n">strings</span><span class="o">.</span><span class="na">parallelStream</span><span class="o">(</span><span class="o">)</span><span class="o">;</span>
</code></pre></div><p>å½“ç„¶ä½ ä¹Ÿå¯ä»¥é€šè¿‡æ•°ç»„æ¥è·å–ï¼Œè€Œä¸” Streamä¸­ä¹Ÿæœ‰ä¸€ä¸ªof()çš„é™æ€æ–¹æ³•æ¥è·å– stream å¯¹è±¡</p>
<div class="highlight"><pre class="chroma"><code class="language-java" data-lang="java">        <span class="n">Stream</span><span class="o">&lt;</span><span class="n">String</span><span class="o">&gt;</span> <span class="n">stringStream1</span> <span class="o">=</span> <span class="n">Stream</span><span class="o">.</span><span class="na">of</span><span class="o">(</span><span class="s">&#34;123&#34;</span><span class="o">,</span> <span class="s">&#34;456&#34;</span><span class="o">,</span> <span class="s">&#34;789&#34;</span><span class="o">)</span><span class="o">;</span>
</code></pre></div><h3 id="stream-çš„ä¸­é—´æ“ä½œ">Stream çš„ä¸­é—´æ“ä½œ</h3>
<h4 id="ç­›é€‰ä¸åˆ‡ç‰‡">ç­›é€‰ä¸åˆ‡ç‰‡</h4>
<ul>
<li>filter(Predicate p) ä»æµä¸­æ’å‡ºæŸäº›å…ƒç´ </li>
<li>limit(n) æˆªæ–­æµï¼Œä½¿æµä¸­å…ƒç´ ä¸ªæ•°ä¸è¶…è¿‡n</li>
<li>skip(n) è·³è¿‡å…ƒç´ ï¼Œè¿”å›ä¸€ä¸ªæ‰”æ‰å‰nä¸ªçš„æµï¼Œè‹¥æµä¸­å…ƒç´ ä¸ªæ•°ä¸è¶³nä¸ªï¼Œåˆ™è¿”å›ä¸€ä¸ªç©ºæµ</li>
<li>distinct() ç­›é€‰å»é™¤é‡å¤å…ƒç´ </li>
</ul>
<div class="highlight"><pre class="chroma"><code class="language-java" data-lang="java">        <span class="n">List</span><span class="o">&lt;</span><span class="n">String</span><span class="o">&gt;</span> <span class="n">strings</span> <span class="o">=</span> <span class="k">new</span> <span class="n">ArrayList</span><span class="o">&lt;</span><span class="o">&gt;</span><span class="o">(</span><span class="o">)</span><span class="o">;</span>
        <span class="n">strings</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="s">&#34;hello&#34;</span><span class="o">)</span><span class="o">;</span>
        <span class="n">strings</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="s">&#34;java8&#34;</span><span class="o">)</span><span class="o">;</span>
        <span class="n">strings</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="s">&#34;nihao&#34;</span><span class="o">)</span><span class="o">;</span>
        <span class="n">strings</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="s">&#34;a&#34;</span><span class="o">)</span><span class="o">;</span>
        <span class="n">strings</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="s">&#34;nihao&#34;</span><span class="o">)</span><span class="o">;</span>

        <span class="c1">//å»é™¤aè¿™ä¸ªå…ƒç´ 
</span><span class="c1"></span>        <span class="n">strings</span><span class="o">.</span><span class="na">stream</span><span class="o">(</span><span class="o">)</span>
                <span class="o">.</span><span class="na">filter</span><span class="o">(</span><span class="o">(</span><span class="n">s</span> <span class="o">-</span><span class="o">&gt;</span> <span class="o">!</span><span class="n">s</span><span class="o">.</span><span class="na">equals</span><span class="o">(</span><span class="s">&#34;a&#34;</span><span class="o">)</span><span class="o">)</span><span class="o">)</span>
                <span class="o">.</span><span class="na">forEach</span><span class="o">(</span><span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">:</span><span class="o">:</span><span class="n">println</span><span class="o">)</span><span class="o">;</span>

        <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="o">)</span><span class="o">;</span>

        <span class="c1">//åªè¦å‰ä¸¤ä¸ªå…ƒç´ 
</span><span class="c1"></span>        <span class="n">strings</span><span class="o">.</span><span class="na">stream</span><span class="o">(</span><span class="o">)</span>
                <span class="o">.</span><span class="na">limit</span><span class="o">(</span><span class="n">2</span><span class="o">)</span>
                <span class="o">.</span><span class="na">forEach</span><span class="o">(</span><span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">:</span><span class="o">:</span><span class="n">println</span><span class="o">)</span><span class="o">;</span>

        <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="o">)</span><span class="o">;</span>

        <span class="c1">//å»é™¤å‰ä¸¤ä¸ªå…ƒç´ 
</span><span class="c1"></span>        <span class="n">strings</span><span class="o">.</span><span class="na">stream</span><span class="o">(</span><span class="o">)</span>
                <span class="o">.</span><span class="na">skip</span><span class="o">(</span><span class="n">2</span><span class="o">)</span>
                <span class="o">.</span><span class="na">forEach</span><span class="o">(</span><span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">:</span><span class="o">:</span><span class="n">println</span><span class="o">)</span><span class="o">;</span>

        <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="o">)</span><span class="o">;</span>

        <span class="c1">//å»é™¤é‡å¤å…ƒç´  nihao 
</span><span class="c1"></span>        <span class="n">strings</span><span class="o">.</span><span class="na">stream</span><span class="o">(</span><span class="o">)</span>
                <span class="o">.</span><span class="na">distinct</span><span class="o">(</span><span class="o">)</span>
                <span class="o">.</span><span class="na">forEach</span><span class="o">(</span><span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">:</span><span class="o">:</span><span class="n">println</span><span class="o">)</span><span class="o">;</span>
</code></pre></div><h4 id="æ˜ å°„">æ˜ å°„</h4>
<h5 id="map">map</h5>
<p>map(Function f) æ¥æ”¶ä¸€ä¸ªä¸€ä¸ªå‡½æ•°ä½œä¸ºå‚æ•°ï¼ˆlambdaè¡¨è¾¾å¼ï¼‰ï¼Œè¯¥å‡½æ•°ä¼šè¢«ä½œç”¨åˆ°æ¯ä¸€ä¸ªå…ƒç´ ä¸Šï¼Œå¹¶å°†å…¶æ˜ å°„æˆä¸€ä¸ªæ–°çš„å…ƒç´ .(ä¹Ÿå°±æ˜¯ å‡½æ•°å‹æ¥å£)
å°†é›†åˆä¸­æ‰€æœ‰çš„å­—ç¬¦ä¸²å˜ä¸ºå¤§å†™,å¹¶è¿‡æ»¤å‡ºé•¿åº¦å¤§äº2çš„å­—ç¬¦ä¸²</p>
<div class="highlight"><pre class="chroma"><code class="language-java" data-lang="java">        <span class="n">List</span><span class="o">&lt;</span><span class="n">String</span><span class="o">&gt;</span> <span class="n">stringStream</span>  <span class="o">=</span> <span class="n">Arrays</span><span class="o">.</span><span class="na">asList</span><span class="o">(</span><span class="s">&#34;aa&#34;</span><span class="o">,</span> <span class="s">&#34;bb&#34;</span><span class="o">,</span> <span class="s">&#34;cc&#34;</span><span class="o">,</span> <span class="s">&#34;ddd&#34;</span><span class="o">,</span> <span class="s">&#34;eeee&#34;</span><span class="o">)</span><span class="o">;</span>
        <span class="n">stringStream</span><span class="o">.</span><span class="na">stream</span><span class="o">(</span><span class="o">)</span>
                <span class="o">.</span><span class="na">map</span><span class="o">(</span><span class="o">(</span><span class="n">s</span><span class="o">)</span> <span class="o">-</span><span class="o">&gt;</span> <span class="n">s</span><span class="o">.</span><span class="na">toUpperCase</span><span class="o">(</span><span class="o">)</span><span class="o">)</span>
                <span class="o">.</span><span class="na">filter</span><span class="o">(</span><span class="n">s</span> <span class="o">-</span><span class="o">&gt;</span> <span class="n">s</span><span class="o">.</span><span class="na">length</span><span class="o">(</span><span class="o">)</span> <span class="o">&gt;</span> <span class="n">2</span><span class="o">)</span>
                <span class="o">.</span><span class="na">forEach</span><span class="o">(</span><span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">:</span><span class="o">:</span><span class="n">println</span><span class="o">)</span><span class="o">;</span>
</code></pre></div><h5 id="flatmap">flatMap</h5>
<p>flatMap(Function f)æ¥æ”¶ä¸€ä¸ªå‡½æ•°ä½œä¸ºå‚æ•°ï¼Œå°†æµä¸­çš„æ¯ä¸€ä¸ªå…ƒç´ éƒ½å˜æˆå¦ä¸€ç§ç±»å‹å•ç‹¬çš„æµï¼Œå†å°†æ‰€æœ‰çš„æµåˆæˆä¸€ä¸ªæµ
è¿™ä¸ªæ–¹æ³•æœ‰ç‚¹éš¾åº¦ã€‚
å¯ä»¥ä¸¾ä¸ªä¾‹å­çœ‹ä¸€ä¸‹,è¿˜æ˜¯ä¸Šè¾¹çš„ stringStream</p>
<div class="highlight"><pre class="chroma"><code class="language-java" data-lang="java">    <span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="o">(</span><span class="n">String</span><span class="o">[</span><span class="o">]</span> <span class="n">args</span><span class="o">)</span> <span class="o">{</span>
            <span class="c1">//å¯ä»¥çœ‹ä¸€ä¸‹è¿”å›ç±»å‹æ˜¯ Stream&lt;Stream&lt;Character&gt;&gt;  è¿™ç§å¥—å¨ƒå‹çš„
</span><span class="c1"></span>            <span class="n">Stream</span><span class="o">&lt;</span><span class="n">Stream</span><span class="o">&lt;</span><span class="n">Character</span><span class="o">&gt;</span><span class="o">&gt;</span> <span class="n">streamStream</span> <span class="o">=</span> <span class="n">stringStream</span><span class="o">.</span><span class="na">map</span><span class="o">(</span><span class="n">Test</span><span class="o">:</span><span class="o">:</span><span class="n">fromStringToStream</span><span class="o">)</span><span class="o">;</span>
            <span class="c1">//å¦‚æœè¿™æ—¶è¦è¿›è¡Œå…ƒç´ ä¾¿åˆ©çš„è¯,éœ€è¦è¿›è¡ŒåŒå±‚å¾ªç¯
</span><span class="c1"></span>            <span class="n">streamStream</span><span class="o">.</span><span class="na">forEach</span><span class="o">(</span><span class="n">characterStream</span> <span class="o">-</span><span class="o">&gt;</span> <span class="o">{</span>
                <span class="n">characterStream</span><span class="o">.</span><span class="na">forEach</span><span class="o">(</span><span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">:</span><span class="o">:</span><span class="n">println</span><span class="o">)</span><span class="o">;</span>
            <span class="o">}</span><span class="o">)</span><span class="o">;</span>
    <span class="o">}</span>

    <span class="kd">public</span> <span class="kd">static</span> <span class="n">Stream</span><span class="o">&lt;</span><span class="n">Character</span><span class="o">&gt;</span> <span class="nf">fromStringToStream</span><span class="o">(</span><span class="n">String</span> <span class="n">str</span><span class="o">)</span> <span class="o">{</span>
        <span class="n">List</span><span class="o">&lt;</span><span class="n">Character</span><span class="o">&gt;</span> <span class="n">list</span> <span class="o">=</span> <span class="k">new</span> <span class="n">ArrayList</span><span class="o">&lt;</span><span class="o">&gt;</span><span class="o">(</span><span class="o">)</span><span class="o">;</span>

        <span class="k">for</span> <span class="o">(</span><span class="n">Character</span> <span class="n">c</span> <span class="o">:</span> <span class="n">str</span><span class="o">.</span><span class="na">toCharArray</span><span class="o">(</span><span class="o">)</span><span class="o">)</span> <span class="o">{</span>
            <span class="n">list</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="n">c</span><span class="o">)</span><span class="o">;</span>
        <span class="o">}</span>

        <span class="k">return</span> <span class="n">list</span><span class="o">.</span><span class="na">stream</span><span class="o">(</span><span class="o">)</span><span class="o">;</span>
    <span class="o">}</span>

</code></pre></div><p>Stream&lt; Stream&lt; Character &raquo;è¿™ç§å¥—å¨ƒå‹çš„stream æœ€å¥½ä½¿ç”¨ flatMapï¼Œå®ƒä¼šè‡ªåŠ¨å¸®ä½ æŠŠè¿™äº›é‡Œè¾¹çš„å…¨éƒ¨çš„Stream&lt; Character &gt;æ‰“å¼€å˜æˆä¸€ä¸ª Stream&lt; Character &gt;
ä½¿ç”¨flatMapåå°±å˜æˆäº†ï¼š</p>
<div class="highlight"><pre class="chroma"><code class="language-java" data-lang="java">        <span class="n">stringStream</span><span class="o">.</span><span class="na">stream</span><span class="o">(</span><span class="o">)</span>
                <span class="o">.</span><span class="na">flatMap</span><span class="o">(</span><span class="n">Test</span><span class="o">:</span><span class="o">:</span><span class="n">fromStringToStream</span><span class="o">)</span>
                <span class="o">.</span><span class="na">forEach</span><span class="o">(</span><span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">:</span><span class="o">:</span><span class="n">println</span><span class="o">)</span><span class="o">;</span>
</code></pre></div><p>çœ‹èµ·æ¥ç®€æ´çš„è®¸å¤šã€‚</p>
<h3 id="stream-çš„ç»ˆæ­¢æ“ä½œ">stream çš„ç»ˆæ­¢æ“ä½œ</h3>
<h4 id="åŒ¹é…å’Œåˆ†ç±»">åŒ¹é…å’Œåˆ†ç±»</h4>
<ul>
<li>allMatch(Predicate p) æ¥æ”¶ä¸€ä¸ªæ–­å®šå‹æ¥å£ï¼Œåˆ¤æ–­æ˜¯å¦æ‰€æœ‰å…ƒç´ ç¬¦åˆæ¡ä»¶ï¼Œç¬¦åˆåˆ™è¿”å›true</li>
<li>anyMatch(Predicate p) åˆ¤æ–­æ˜¯å¦æœ‰ä¸€ä¸ªå…ƒç´ ç¬¦åˆæ¡ä»¶ï¼Œå¦‚æœç¬¦åˆï¼Œè¿”å›true</li>
<li>noneMatch(Predicate p) æ£€æŸ¥æ˜¯å¦æ²¡æœ‰åŒ¹é…çš„å…ƒç´ ï¼Œå¦‚æœæœ‰åŒ¹é…ä¸Šçš„ï¼Œè¿”å›false</li>
<li>findFirst() è·å–ç¬¬ä¸€ä¸ªå…ƒç´ </li>
<li>findAny() è¿”å›æµä¸­ä»»æ„ä¸€ä¸ªå…ƒç´ </li>
<li>count() è·å–æµä¸­å…ƒç´ çš„ä¸ªæ•°</li>
<li>max(Comparator com)</li>
<li>min(Comparator com)</li>
<li>forEach(Consumer con)</li>
</ul>
<h4 id="å½’çº¦">å½’çº¦</h4>
<ul>
<li>reduce(T identity, BinaryOperator) å°†æµä¸­çš„å…ƒç´ åå¤ç»“åˆèµ·æ¥ï¼Œå¾—åˆ°ä¸€ä¸ªå€¼, identity æ˜¯åˆå§‹å€¼ã€‚</li>
</ul>
<div class="highlight"><pre class="chroma"><code class="language-java" data-lang="java">        <span class="c1">//reduce(T identity, BinaryOperator) å°†æµä¸­çš„å…ƒç´ åå¤ç»“åˆèµ·æ¥ï¼Œå¾—åˆ°ä¸€ä¸ªå€¼, identity æ˜¯åˆå§‹å€¼ã€‚
</span><span class="c1"></span>        <span class="c1">//1 + 2 çš„ç»“æœå†ä½œä¸ºç¬¬ä¸€ä¸ªå€¼ï¼Œå†å°†ç¬¬ä¸‰ä¸ªå…ƒç´ 3ä½œä¸ºç¬¬äºŒå€¼ï¼Œå¾ªç¯å¾€å¤
</span><span class="c1"></span>        <span class="n">List</span><span class="o">&lt;</span><span class="n">Integer</span><span class="o">&gt;</span> <span class="n">integers</span>  <span class="o">=</span> <span class="n">Arrays</span><span class="o">.</span><span class="na">asList</span><span class="o">(</span><span class="n">1</span><span class="o">,</span> <span class="n">2</span><span class="o">,</span> <span class="n">3</span><span class="o">,</span> <span class="n">4</span><span class="o">,</span> <span class="n">5</span><span class="o">)</span><span class="o">;</span>
        <span class="n">Integer</span> <span class="n">sum</span> <span class="o">=</span> <span class="n">integers</span><span class="o">.</span><span class="na">stream</span><span class="o">(</span><span class="o">)</span><span class="o">.</span><span class="na">reduce</span><span class="o">(</span><span class="n">0</span><span class="o">,</span> <span class="n">Integer</span><span class="o">:</span><span class="o">:</span><span class="n">sum</span><span class="o">)</span><span class="o">;</span>
        <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">sum</span><span class="o">)</span><span class="o">;</span>
</code></pre></div><p>1 + 2 çš„ç»“æœå†ä½œä¸ºç¬¬ä¸€ä¸ªå€¼ï¼Œå†å°†ç¬¬ä¸‰ä¸ªå…ƒç´ 3ä½œä¸ºç¬¬äºŒå€¼ï¼Œä¸¤æ¬¡å†æ¬¡ç›¸åŠ çš„ç»“æœä½œä¸ºç¬¬ä¸€å€¼ï¼Œå¾ªç¯å¾€å¤ã€‚
å½“ç„¶å¦‚æœä½ ä¸æ˜¯è®¾ç½®identityçš„å€¼çš„è¯ï¼Œreduce(BinaryOperator)è¿˜æ˜¯æœ‰è¿™ä¸ªåªæœ‰ä¸€ä¸ªå½¢å‚çš„æ–¹æ³•ï¼Œåªä¸è¿‡è¿”å›çš„æ˜¯ä¸€ä¸ªoptoinal&lt;&gt;çš„å€¼</p>
<h4 id="æ”¶é›†">æ”¶é›†</h4>
<p>collet(Collector c) å°†æµä¸­çš„ç»“æœè½¬æ¢æˆä¸€ä¸ªCollectorï¼ˆé›†åˆï¼‰å‡ºæ¥</p>
<div class="highlight"><pre class="chroma"><code class="language-java" data-lang="java">        <span class="c1">//è·å–å…ƒç´ é•¿åº¦å¤§äº2çš„é›†åˆ
</span><span class="c1"></span>       <span class="n">List</span><span class="o">&lt;</span><span class="n">String</span><span class="o">&gt;</span> <span class="n">collect</span> <span class="o">=</span> <span class="n">stringStream</span><span class="o">.</span><span class="na">stream</span><span class="o">(</span><span class="o">)</span>
               <span class="o">.</span><span class="na">filter</span><span class="o">(</span><span class="n">s</span> <span class="o">-</span><span class="o">&gt;</span> <span class="n">s</span><span class="o">.</span><span class="na">length</span><span class="o">(</span><span class="o">)</span> <span class="o">&gt;</span> <span class="n">2</span><span class="o">)</span>
               <span class="o">.</span><span class="na">collect</span><span class="o">(</span><span class="n">Collectors</span><span class="o">.</span><span class="na">toList</span><span class="o">(</span><span class="o">)</span><span class="o">)</span><span class="o">;</span>
</code></pre></div></article><section class="article labels"><a class="category" href=/categories/java/>java</a><a class="tag" href=/tags/java%E9%AB%98%E7%BA%A7/>javaé«˜çº§</a></section></div><section class="article navigation"><p><a class="link" href="/post/mybatisplus/"><span class="li">&larr;</span>Mybatisplus</a></p><p><a class="link" href="/post/reflection/"><span class="li">&rarr;</span>javaä¸­çš„åå°„</a></p></section></div><section id="footer" class="footer"><div class="footer-wrap">
    <p class="copyright">Â©2020 gejigejiemmm.</p>
    <p class="powerby"><span>Powered by </span><a href="https://gohugo.io" 
        target="_blank">Hugo</a><span> and the </span><a href="https://themes.gohugo.io/hugo-notepadium/" 
        target="_blank">Notepadium</a></p>
</div></section></div>
</body>

</html>